const y=function f(u){function h(t,n,s){var a,p={};if(Array.isArray(t))return t.concat(n);for(a in t)p[s?a.toLowerCase():a]=t[a];for(a in n){var c=s?a.toLowerCase():a,o=n[a];p[c]=c in p&&typeof o=="object"?h(p[c],o,c=="headers"):o}return p}function e(t,n,s,a,p){var c=typeof t!="string"?(n=t).url:t,o={config:n},r=h(u,n),d={};a=a||r.data,(r.transformRequest||[]).map(function(i){a=i(a,r.headers)||a}),r.auth&&(d.authorization=r.auth),a&&typeof a=="object"&&typeof a.append!="function"&&typeof a.text!="function"&&(a=JSON.stringify(a),d["content-type"]="application/json");try{d[r.xsrfHeaderName]=decodeURIComponent(document.cookie.match(RegExp("(^|; )"+r.xsrfCookieName+"=([^;]*)"))[2])}catch{}return r.baseURL&&(c=c.replace(/^(?!.*\/\/)\/?/,r.baseURL+"/")),r.params&&(c+=(~c.indexOf("?")?"&":"?")+(r.paramsSerializer?r.paramsSerializer(r.params):new URLSearchParams(r.params))),(r.fetch||fetch)(c,{method:(s||r.method||"get").toUpperCase(),body:a,headers:h(r.headers,d,!0),credentials:r.withCredentials?"include":p}).then(function(i){for(var l in i)typeof i[l]!="function"&&(o[l]=i[l]);return r.responseType=="stream"?(o.data=i.body,o):i[r.responseType||"text"]().then(function(m){o.data=m,o.data=JSON.parse(m)}).catch(Object).then(function(){return(r.validateStatus?r.validateStatus(i.status):i.ok)?o:Promise.reject(o)})})}return u=u||{},e.request=e,e.get=function(t,n){return e(t,n,"get")},e.delete=function(t,n){return e(t,n,"delete")},e.head=function(t,n){return e(t,n,"head")},e.options=function(t,n){return e(t,n,"options")},e.post=function(t,n,s){return e(t,s,"post",n)},e.put=function(t,n,s){return e(t,s,"put",n)},e.patch=function(t,n,s){return e(t,s,"patch",n)},e.all=Promise.all.bind(Promise),e.spread=function(t){return t.apply.bind(t,t)},e.CancelToken=typeof AbortController=="function"?AbortController:Object,e.defaults=u,e.create=f,e}(),b=async(f="")=>{try{return(await y.get(`https://fakestoreapi.com/products${f}`)).data}catch(u){throw console.error(`Error fetching data from ${f}:`,u.message||u),u}};export{b as g};
